<?php
$dir = get_bloginfo("template_directory") . "/";
?>


<button class="button-slider-open js-slider-open" type="button" aria-label="button open slider">
  <svg class="button-slider-open__icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 9.68 11.617">
    <path class="button-slider-open__icon-square" d="M2.636 11.617H.181A.177.177 0 010 11.436V8.981A.177.177 0 01.181 8.8h2.442a.177.177 0 01.181.181v2.442a.17.17 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M6.073 11.617H3.618a.177.177 0 01-.181-.181V8.981a.177.177 0 01.181-.181H6.06a.177.177 0 01.181.181v2.442a.178.178 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M9.51 11.617H7.055a.177.177 0 01-.181-.181V8.981a.177.177 0 01.181-.181h2.442a.177.177 0 01.181.181v2.442a.178.178 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M2.636 8.18H.181A.177.177 0 010 7.999V5.544a.177.177 0 01.181-.181h2.442a.177.177 0 01.181.181v2.442a.17.17 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M6.073 7.65H3.618a.177.177 0 01-.181-.181V5.014a.177.177 0 01.181-.181H6.06a.177.177 0 01.181.181v2.442a.178.178 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M9.51 6.849H7.055a.177.177 0 01-.181-.181V4.213a.177.177 0 01.181-.181h2.442a.177.177 0 01.181.181v2.442a.171.171 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M2.636 4.742H.181A.177.177 0 010 4.561V2.106a.177.177 0 01.181-.181h2.442a.177.177 0 01.181.181v2.442a.17.17 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M6.073 3.605H3.618a.177.177 0 01-.181-.181V.969a.177.177 0 01.181-.181H6.06a.177.177 0 01.181.181v2.442a.171.171 0 01-.168.194z"></path>
    <path class="button-slider-open__icon-square" d="M9.51 2.8H7.055a.177.177 0 01-.181-.181V.181A.177.177 0 017.055 0h2.442a.177.177 0 01.181.181v2.442a.166.166 0 01-.168.177z"></path>
  </svg>
</button>
<div class="app">


  <main>
    <section class="content js-content">
      <div class="container">
        <div class="content__subheadings">
          <span class="content__subheading is-md">S00192 /</span>
          <span class="content__subheading is-sm">side / orange / 11:40 AM</span>
        </div>
        <h2 class="content__heading"> Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
          scrambled.
        </h2>
      </div>
    </section>
    <div class="js-placeholders placeholders">
      <div class="js-img-wrap placeholders__img-wrap" style="--aspect-ratio:0.8;">
        <img data-src="https://images.unsplash.com/photo-1479839672679-a46483c0e7c8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="placeholders__img">
      </div>
      <div class="js-img-wrap placeholders__img-wrap" style="--aspect-ratio:0.8;">
        <img data-src="https://images.unsplash.com/photo-1566688342604-dbe3e7357104?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="placeholders__img">
      </div>
      <div class="js-img-wrap placeholders__img-wrap" style="--aspect-ratio:0.8;">
        <img data-src="https://images.unsplash.com/photo-1472835560847-37d024ebacdc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="placeholders__img">
      </div>
    </div>
    <div class="js-slider slider">
      <button class="js-slider-close slider__button-close" type="button" aria-label="close slider">
        <svg class="slider__button-close-icon js-icon" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 205 205">
          <g class="js-circle" fill="none" stroke="var(--color-grey-darker)">
            <circle cx="102.5" cy="102.5" r="102"></circle>
          </g>
          <g class="js-x" fill="none" stroke="var(--color-grey-darker)" stroke-linecap="round">
            <path d="M94 94l16.139 16.139M94 110.492l16.493-16.493"></path>
          </g>
        </svg>
      </button>
      <div class="js-container slider__container" data-scroll="">
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1479839672679-a46483c0e7c8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Indigo</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="indigo">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1566688342604-dbe3e7357104?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Rouge</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="rouge">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1472835560847-37d024ebacdc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Jaune</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="jaune">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1541320823636-40247af897bf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Orange</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="orange">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1566787020216-3e4f973ec5ec?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Vert</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="vert">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1523181729404-8a3b7b6f918d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Bleu</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="bleu">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
        <div class="js-item slider__item" style="--aspect-ratio:0.8;">
          <div class="js-img js-img-wrap slider__item-img-wrap" style="--aspect-ratio:0.8;" data-building="building-slug" data-index="1">
            <img data-src="https://images.unsplash.com/photo-1566688342604-dbe3e7357104?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80&ar=0.8" alt="building" class="slider__item-img">
          </div>
          <div class="slider__item-content">
            <div class="slider__item-heading-wrap">
              <h3 class="js-heading slider__item-heading"> Violet</h3>
            </div>
            <div class="slider__item-button-wrap">
              <button class="button js-button slider__item-button" type="button" data-slug="violet">
                <span class="button__title-mask">
                  <div class="button__title-wrap">
                    <span class="button__title">Read more</span>
                    <span class="button__title--secondary">Read more</span>
                  </div>
                </span>
                <span class="button__icon">
                  <span class="button__circle"></span>
                  <svg class="button__svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                  <svg class="button__svg button__svg--clone" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 16.002 4.639">
                    <path d="M.25 2.264h15.403M13.743.354l1.91 1.91-1.919 2.022"></path>
                  </svg>
                </span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="js-progress-wrap slider__progress-wrap">
        <div class="js-progress slider__progress"></div>
      </div>
    </div>
  </main>
</div>


<script src="<?= $dir ?>js/src.8a13f989.js"></script>

<script>
  /*console.log(this);

  this.dom = {};
  this.dom.el = document.querySelector('.js-placeholders');
  this.dom.images = this.dom.el.querySelectorAll('.js-img-wrap');
  this.dom.buttonOpen = document.querySelector('.js-slider-open');

  // hover animation
  setHoverAnimation()
  {
    this.tl = gsap.timeline({paused : true});

    this.tl.addLabel('start').set(this.dom.el, {autoAlpha : 1}).set(this.dom.images, {
      scale    : 0.5,
      x        : (
        window.innerWidth / 12
      ) * 1.2,
      rotation : 0
    }).to(this.dom.images, {
      duration : 1,
      stagger  : 0.07,
      ease     : 'power3.inOut',
      x        : 0,
      y        : 0
    }).to(this.dom.images[0], {
      duration : 1,
      ease     : 'power3.inOut',
      rotation : -4
    }, 'start').to(this.dom.images[1], {
      duration : 1,
      ease     : 'power3.inOut',
      rotation : -2
    }, 'start');
  }

  // button events
  this.dom.buttonOpen.addEventListener('mouseenter', this.handleMouseenter);
  this.dom.buttonOpen.addEventListener('mouseleave', this.handleMouseleave);

  handleMouseenter()
  {
    this.tl.play();
  }

  handleMouseleave()
  {
    this.tl.reverse();
  }

  // animation
  const x1 = this.bounds.left - slider.items[0].bounds.left - 20;
  const x2 = this.bounds.left - slider.items[1].bounds.left + 10;
  const x3 = this.bounds.left - slider.items[2].bounds.left;

  const y1 = this.bounds.top - slider.items[0].bounds.top + 10;
  const y2 = this.bounds.top - slider.items[1].bounds.top - 30;
  const y3 = this.bounds.top - slider.items[2].bounds.top + 30;

  const scale = slider.items[0].bounds.width / this.bounds.width;

  //parallax
  const intersectX1 = slider.items[0].x;
  const intersectX2 = slider.items[1].x;
  const intersectX3 = slider.items[2].x;

  this.tl
  .addLabel('start')
  .to(this.dom.images[0], { duration: 1.67, ease: 'power3.inOut', x: -x1, y: -y1, scale, rotation: 0 }, 'start')
  .to(this.dom.images[1], { duration: 1.67, ease: 'power3.inOut', x: -x2, y: -y2, scale, rotation: 0 }, 'start')
  .to(this.dom.images[2], { duration: 1.67, ease: 'power3.inOut', x: -x3, y: -y3, scale, rotation: 0 }, 'start')
  .to(this.dom.images[0].querySelector('img'), { duration: 1.67, ease: 'power3.inOut', x: intersectX1 }, 'start')
  .to(this.dom.images[1].querySelector('img'), { duration: 1.67, ease: 'power3.inOut', x: intersectX2 }, 'start')
  .to(this.dom.images[2].querySelector('img'), { duration: 1.67, ease: 'power3.inOut', x: intersectX3 }, 'start',)
  .set(this.dom.el, { autoAlpha: 0 }, 'start+=1.67')

  //animation
  this.dom.el = document.querySelector('.js-slider');
  this.dom.container = this.dom.el.querySelector('.js-container');
  this.dom.items = this.dom.el.querySelectorAll('.js-item');
  this.dom.images = this.dom.el.querySelectorAll('.js-img-wrap');
  this.dom.progress = this.dom.el.querySelector('.js-progress');

  const max = -this.dom.container.offsetWidth + window.innerWidth;
  const progress = ((scroll.state.last - 0) * 100) / (max - 0) / 100;

  this.dom.progress.style.transform = `scaleX(${progress})`;

  setCache() {
    this.items = [];
    [...this.dom.items].forEach((el) => {
      const bounds = el.getBoundingClientRect();

      this.items.push({
        img: el.querySelector('img'),
        bounds,
        x: 0,
      });
    });
  }

  const { bounds } = item;
  const inView = scrollLast + window.innerWidth >= bounds.left && scrollLast < bounds.right;

  const min = bounds.left - window.innerWidth;
  const max = bounds.right;
  const percentage = ((scrollLast - min) * 100) / (max - min);

  const newMin = -(window.innerWidth / 12) * 3;
  const newMax = 0;
  item.x = ((percentage - 0) / (100 - 0)) * (newMax - newMin) + newMin;

  item.img.style.transform = `translate3d(${item.x}px, 0, 0)`;

  render() {
    const scrollLast = scroll.state.last;

    this.items.forEach((item) => {
      const { bounds } = item;
      const inView = scrollLast + window.innerWidth >= bounds.left && scrollLast < bounds.right;

      if (inView) {
        const min = bounds.left - window.innerWidth;
        const max = bounds.right;
        const percentage = ((scrollLast - min) * 100) / (max - min);
        const newMin = -(window.innerWidth / 12) * 3;
        const newMax = 0;
        item.x = ((percentage - 0) / (100 - 0)) * (newMax - newMin) + newMin;

        item.img.style.transform = `translate3d(${item.x}px, 0, 0) scale(1.75)`;
      }
    });
  }*/

</script>